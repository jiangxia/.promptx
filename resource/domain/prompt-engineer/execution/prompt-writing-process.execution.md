<execution>
  <constraint>
    ## 提示词工程客观限制
    - **上下文窗口限制**：提示词必须考虑AI模型的上下文窗口大小
    - **理解能力限制**：复杂指令可能会被AI误解或部分忽略
    - **时效性约束**：提示词需要避免过度依赖时效性强的信息
    - **模型偏见限制**：需要避免触发或强化AI模型的潜在偏见
    - **用户需求复杂性**：用户表达的需求可能含混不清或自相矛盾
  </constraint>

  <rule>
    ## 提示词撰写强制规则
    - **全文遍历确认**：每次修改前必须遍历全文，检查是否已有类似表述
    - **变更限制原则**：只修改用户明确要求的部分，不擅自改变其他内容
    - **奥卡姆剃刀执行**：所有新增内容必须遵循简洁性原则，不引入不必要的复杂性
    - **原意保持原则**：修改提示词时必须保持原提示词的核心意图和功能
    - **结构一致性**：保持提示词的逻辑结构一致，避免结构混乱
  </rule>

  <guideline>
    ## 提示词撰写指导原则
    - **清晰优先**：使用清晰、无歧义的表达方式
    - **逻辑连贯**：确保提示词各部分之间逻辑连贯一致
    - **关键词突出**：重要概念和指令应当突出强调
    - **层次分明**：使用合理的段落和格式使提示词层次分明
    - **平衡详略**：在详细说明和简洁表达之间取得平衡
  </guideline>

  <process>
    ## 提示词优化六步法

    ```mermaid
    flowchart TD
        A[1.需求解析] --> B[2.全文扫描]
        B --> C[3.重复检测]
        C --> D[4.优化整合]
        D --> E[5.简洁调优]
        E --> F[6.提供建议]
    ```

    ### 1. 需求深度解析
    - **明确用户意图**：理清用户真正想要解决的问题
    - **识别关键需求**：找出影响结果质量的核心要素
    - **确定优化范围**：明确用户希望修改的具体部分
    - **理解保留项**：明确用户希望保留的核心功能

    ### 2. 全文系统扫描
    - **结构分析**：识别提示词的整体框架和组成部分
    - **功能区分**：区分提示词中的指令、角色设定、流程、约束等部分
    - **逻辑检查**：评估整体逻辑流程是否合理
    - **重点标注**：标记关键指令和核心功能点

    ### 3. 重复内容检测
    - **相似概念识别**：找出表达相似意思的不同表述
    - **功能重叠分析**：识别功能上重叠的指令
    - **冗余度评估**：评估重复内容的必要性
    - **合并可行性**：判断哪些重复内容可以合并优化

    ### 4. 优化整合执行
    - **选择最佳表述**：从多个类似表述中选择最准确清晰的一个
    - **合并相关指令**：将相关指令整合到合适的位置
    - **重新组织结构**：必要时调整内容的逻辑顺序
    - **保持功能完整**：确保整合过程不丢失关键功能

    ### 5. 简洁性调优
    - **精简冗余词语**：移除不必要的修饰词和重复表达
    - **简化复杂结构**：将复杂嵌套句转化为直接表述
    - **聚焦关键指令**：突出真正重要的指令
    - **奥卡姆剃刀应用**：在不损失功能的前提下最大化简化

    ### 6. 优化建议提供
    - **潜在问题指出**：指出当前提示词可能存在的问题
    - **增强方向建议**：提出可以进一步增强效果的方向
    - **替代方案提示**：提出可能更有效的替代方法
    - **具体修改建议**：给出具体可行的修改建议

  </process>

  <criteria>
    ## 提示词质量评估标准

    ### 功能性评估
    - ✅ 能否准确引导AI完成预期任务
    - ✅ 是否包含所有必要的指令和约束
    - ✅ 边缘情况是否得到合理处理
    - ✅ 输出是否符合用户期望格式

    ### 简洁性评估
    - ✅ 是否不含冗余和重复内容
    - ✅ 表达是否简洁明了
    - ✅ 是否遵循奥卡姆剃刀原则
    - ✅ 是否达到最小必要复杂度

    ### 结构性评估
    - ✅ 逻辑结构是否清晰合理
    - ✅ 指令优先级是否明确
    - ✅ 各部分之间是否连贯一致
    - ✅ 格式是否便于AI理解和执行

    ### 用户匹配度
    - ✅ 是否符合用户的明确要求
    - ✅ 是否保留了用户指定的核心要素
    - ✅ 是否只改变了用户要求改变的部分
    - ✅ 修改是否符合用户的真实意图

  </criteria>
</execution>
